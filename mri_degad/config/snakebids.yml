bids_dir: "/path/to/bids/dir"
output_dir: "/path/to/output/dir"

force: True
debug: False
derivatives: False

analysis_levels: &analysis_levels
  - participant

targets_by_analysis_level:
  participant:
    - "all"

pybids_inputs:
  t1w:
    filters:
      suffix: T1w
      extension: .nii.gz
      datatype: anat
    wildcards:
      - subject
      - session
      - acquisition
      - reconstruction
      - run

# configuration for the command-line parameters to make available
# passed on the argparse add_argument()
parse_args:

#---  core BIDS-app options --- (do not modify below)

  bids_dir:
    help: The directory with the input dataset formatted according
          to the BIDS standard.

  output_dir:
    help: The directory where the output files
          should be stored. If you are running group level analysis
          this folder should be prepopulated with the results of the
          participant level analysis.

  analysis_level:
    help: Level of the analysis that will be performed.
    choices: *analysis_levels

  --participant_label:
    help: The label(s) of the participant(s) that should be analyzed. The label
          corresponds to sub-<participant_label> from the BIDS spec
          (so it does not include "sub-"). If this parameter is not
          provided all subjects should be analyzed. Multiple
          participants can be specified with a space separated list.
    nargs: '+'

  --exclude_participant_label:
    help: The label(s) of the participant(s) that should be excluded. The label
          corresponds to sub-<participant_label> from the BIDS spec
          (so it does not include "sub-"). If this parameter is not
          provided all subjects should be analyzed. Multiple
          participants can be specified with a space separated list.
    nargs: '+'

  --derivatives:
    help: 'Path(s) to a derivatives dataset, for folder(s) that contains multiple derivatives datasets (default: %(default)s) '
    default: False
    nargs: '+'

  --model:
    help: 'Type of machine learning model to apply.'
    default: 'default'
    required: false

  --workdir:
    help: |
      Folder for storing working files. If not specified, will be in "work/" subfolder 
      in the output folder. You can also use environment variables when setting the 
      workdir, e.g. --workdir '$SLURM_TMPDIR'.
    default: work
    type: str

  --use_gpu:
    help: 'Flag to run the model on gpu instead of the default cpu - will significantly speed up the model (default: %(default)s) '
    default: False
    action: store_true
  
  --skull_strip:
    help: |
      'Will run Freesurfer SynthStrip and produce a skull-stripped vasculature mask. Freesurfer must be installed and configured
      according to the instructions in the SynthStrip documentation. See the readthedocs for more information. (default: %(default)s) '
    default: False
    action: store_true

  --analysis:
    help: |
      'Will run analysis on the data if ground truths are located in the input bids dir (default: %(default)s) '
    default: False
    action: store_true

singularity:
    itksnap: 'docker://pyushkevich/itksnap:latest'

resource_urls:
  # original model 
  original_model: 'files.osf.io/v1/resources/mkwpt/providers/osfstorage/?zip='

  # mahmoud's model 
  default: 'files.osf.io/v1/resources/c23jw/providers/osfstorage/?zip='

plugins.validator.skip: False
root: results
workdir: null